<html>
	<head>
		<title>Clock</title>
		<style type="text/css">
			#clock_holder {
				height: 100%;
			    width: 100%;
			    display: table;
				
			}
			#clock {
				display: table-cell;
			    height: 100%;
			    vertical-align: middle;
			    text-align: center;
				font-size: 13em;
				font-family: 'Open Sans', sans-serif;
				color: rgba(255,255,255,0.65);
				text-shadow: 0px 0px 50px rgba(0,0,0,0.6);
			}
			#clock span {
			    font-weight: 700;
			}
		</style>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	</head>
	<body>
		<div id="clock_holder">
			<div id="clock">
				<span id="hours">0</span>:<span id="mins">00</span>:<span id="secs">00</span>
			</div>
		</div>

		<script type="text/javascript">

			comp = function(a){return 255 - a;}
			rgb = function(r,g,b){return 'rgb('+ r + ',' + g + ',' + b + ')';}
			rgba = function(r,g,b,a){return 'rgba('+ r + ',' + g + ',' + b + ',' + a + ')';}
			pad2 = function(n){return (n < 10 ? '0' : '') + n;}
			toColor = function(n){return n * 255 | 0;}

			function updateClock() {
				var date, secs, mins, hours, r, g, b;

				date = new Date();
				secs = date.getSeconds();
				mins = date.getMinutes();
				hours = date.getHours();

				r = toColor(hours / 23);
				g = toColor(mins / 59);
				b = toColor(secs / 59);

				$('body').css('background', 'radial-gradient(' + rgb(r, g, b) + ', black 170%)');
				// $('#clock').css('color', rgba(comp(r), comp(g), comp(b), 0.6));

				$('#hours').text(pad2(hours));
				$('#mins').text(pad2(mins));
				$('#secs').text(pad2(secs));
			}

			function updater(){
				var wait;
				updateClock();
				wait = 1000 - (new Date().getMilliseconds());
				console.log(wait);
				setTimeout(updater, wait);
			}

			$(function() {
				updater();
			});
		</script>
	</body>
</html>
